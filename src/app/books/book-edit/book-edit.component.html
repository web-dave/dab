<h3>Edit Book</h3>
<div *ngIf="book$ | async as book">
  <form #form="ngForm" (ngSubmit)="save(book)">
    <label for="title">Title:</label>
    <input
      type="text"
      [(ngModel)]="book.title"
      name="title"
      #title="ngModel"
      required
      minlength="3"
    />
    <span
      [hidden]="
        (!title.errors?.required && !title.errors?.minlength) || title.pristine
      "
      >😱</span
    >
    <label for="subtitle">Subtitle:</label>
    <input
      type="text"
      [(ngModel)]="book.subtitle"
      name="subtitle"
      #subtitle="ngModel"
      required
    />
    <span
      [hidden]="
        (!subtitle.errors?.required && !subtitle.errors?.minlength) ||
        subtitle.pristine
      "
      >🥴</span
    >
    <label for="abstract">Abstract:</label>
    <textarea
      type="text"
      [(ngModel)]="book.abstract"
      name="abstract"
      #abstract="ngModel"
      required
    ></textarea>
    <span
      [hidden]="
        (!abstract.errors?.required && !abstract.errors?.minlength) ||
        abstract.pristine
      "
      >🕳️</span
    >
    <br />
    <button type="submit" [disabled]="!form.valid">💾</button>
    <span *ngIf="saved$ | async">✔️</span>
  </form>
  <button [routerLink]="['..']">💨</button>
</div>
